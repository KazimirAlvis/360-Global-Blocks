(()=>{"use strict";var e,t={820:()=>{const e=window.React,t=window.wp.i18n,l=window.wp.blockEditor,r=window.wp.components,a=window.wp.data;(0,window.wp.blocks.registerBlockType)("global360blocks/latest-articles",{edit:({attributes:n,setAttributes:o})=>{const{numberOfPosts:s,showExcerpt:c,excerptLength:i,columns:d}=n,m=(0,a.useSelect)(e=>e("core").getEntityRecords("postType","post",{per_page:s,_embed:!0,status:"publish",orderby:"date",order:"desc"}),[s]),p=(0,l.useBlockProps)({className:"latest-articles-block"}),b=e=>e._embedded&&e._embedded["wp:featuredmedia"]&&e._embedded["wp:featuredmedia"][0]?e._embedded["wp:featuredmedia"][0].source_url:null;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(l.InspectorControls,null,(0,e.createElement)(r.PanelBody,{title:(0,t.__)("Articles Settings","global360blocks")},(0,e.createElement)(r.RangeControl,{label:(0,t.__)("Number of Articles","global360blocks"),value:s,onChange:e=>o({numberOfPosts:e}),min:1,max:12}),(0,e.createElement)(r.RangeControl,{label:(0,t.__)("Columns","global360blocks"),value:d,onChange:e=>o({columns:e}),min:1,max:4}),(0,e.createElement)(r.ToggleControl,{label:(0,t.__)("Show Excerpt","global360blocks"),checked:c,onChange:e=>o({showExcerpt:e})}),c&&(0,e.createElement)(r.RangeControl,{label:(0,t.__)("Excerpt Length (words)","global360blocks"),value:i,onChange:e=>o({excerptLength:e}),min:5,max:50}))),(0,e.createElement)("div",{...p},(0,e.createElement)("div",{className:"latest-articles-header"},(0,e.createElement)("h2",null,"Our Latest Articles")),(0,e.createElement)("div",{className:"latest-articles-grid",style:{gridTemplateColumns:`repeat(${d}, 1fr)`}},m&&m.length>0?m.map(t=>(0,e.createElement)("article",{key:t.id,className:"latest-article-item"},b(t)&&(0,e.createElement)("div",{className:"article-image"},(0,e.createElement)("img",{src:b(t),alt:t.title.rendered})),(0,e.createElement)("div",{className:"article-content"},(0,e.createElement)("h3",{className:"article-title",dangerouslySetInnerHTML:{__html:t.title.rendered}}),c&&(0,e.createElement)("p",{className:"article-excerpt"},(e=>{if(e.excerpt&&e.excerpt.rendered){const t=document.createElement("div");t.innerHTML=e.excerpt.rendered;const l=t.textContent||t.innerText||"";return l.split(" ").slice(0,i).join(" ")+(l.split(" ").length>i?"...":"")}return""})(t)),(0,e.createElement)("div",{className:"article-read-more"},(0,e.createElement)("span",{className:"read-more-link"},"READ MORE â†’"))))):(0,e.createElement)("div",{className:"latest-articles-loading"},(0,e.createElement)("p",null,null===m?(0,t.__)("Loading articles...","global360blocks"):(0,t.__)("No articles found.","global360blocks"))))))},save:()=>null})}},l={};function r(e){var a=l[e];if(void 0!==a)return a.exports;var n=l[e]={exports:{}};return t[e](n,n.exports,r),n.exports}r.m=t,e=[],r.O=(t,l,a,n)=>{if(!l){var o=1/0;for(d=0;d<e.length;d++){for(var[l,a,n]=e[d],s=!0,c=0;c<l.length;c++)(!1&n||o>=n)&&Object.keys(r.O).every(e=>r.O[e](l[c]))?l.splice(c--,1):(s=!1,n<o&&(o=n));if(s){e.splice(d--,1);var i=a();void 0!==i&&(t=i)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[l,a,n]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};r.O.j=t=>0===e[t];var t=(t,l)=>{var a,n,[o,s,c]=l,i=0;if(o.some(t=>0!==e[t])){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(c)var d=c(r)}for(t&&t(l);i<o.length;i++)n=o[i],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(d)},l=globalThis.webpackChunk_360_global_blocks=globalThis.webpackChunk_360_global_blocks||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var a=r.O(void 0,[350],()=>r(820));a=r.O(a)})();