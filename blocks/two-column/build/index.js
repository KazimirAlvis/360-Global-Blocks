(()=>{"use strict";var e,l={22:()=>{const e=window.React,l=window.wp.i18n,t=window.wp.element,a=window.wp.blockEditor,o=(window.wp.formatLibrary,window.wp.components),n=window.wp.blocks,c=window.wp.data,r=[["core/paragraph",{placeholder:(0,l.__)("Add body contentâ€¦","global360blocks")}]],s=["core/paragraph","core/list","core/heading","core/quote"];(0,n.registerBlockType)("global360blocks/two-column",{edit:({attributes:i,setAttributes:m,clientId:d})=>{const{imageUrl:g,imageId:b,heading:p,bodyText:u,layout:w="image-left"}=i,k=(0,c.useSelect)(e=>e("core/block-editor").getBlocks(d),[d]).length>0,{replaceInnerBlocks:h}=(0,c.useDispatch)("core/block-editor");(0,t.useEffect)(()=>{if(!k&&u){const e=(0,n.rawHandler)({HTML:u});let l=e.length?e:[(0,n.createBlock)("core/paragraph",{content:u})];if(e.length>1&&e.every(e=>"core/paragraph"===e?.name&&"string"==typeof e?.attributes?.content)){const t=e.map(e=>e.attributes.content.trim()).filter(Boolean).join("<br />");t&&(l=[(0,n.createBlock)("core/paragraph",{content:t})])}h(d,l,!1),m({bodyText:""})}},[k,u,h,d,m]);const v=e=>{m({imageUrl:e.url,imageId:e.id})},E=()=>{m({imageUrl:"",imageId:0})},_=(0,a.useBlockProps)({className:"two-column-block"}),f="image-right"===w,y=()=>(0,e.createElement)("div",{className:"two-column-image"},g?(0,e.createElement)("img",{src:g,alt:"",className:"column-image"}):(0,e.createElement)("div",{className:"image-placeholder"},(0,e.createElement)("span",null,(0,l.__)("Image will appear here","global360blocks"))),(0,e.createElement)("div",{className:"image-controls"},(0,e.createElement)(a.MediaUploadCheck,null,(0,e.createElement)(a.MediaUpload,{onSelect:v,allowedTypes:["image"],value:b,render:({open:t})=>(0,e.createElement)("div",{className:"upload-controls"},!g&&(0,e.createElement)(o.Button,{className:"button button-large",onClick:t},(0,l.__)("Upload Image","global360blocks")),g&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(o.Button,{className:"button",onClick:t},(0,l.__)("Replace Image","global360blocks")),(0,e.createElement)(o.Button,{className:"button",onClick:E},(0,l.__)("Remove Image","global360blocks"))))}))));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a.InspectorControls,null,(0,e.createElement)(o.PanelBody,{title:(0,l.__)("Layout","global360blocks"),initialOpen:!0},(0,e.createElement)(o.RadioControl,{label:(0,l.__)("Media position","global360blocks"),selected:w,onChange:e=>m({layout:e}),options:[{label:(0,l.__)("Image on left","global360blocks"),value:"image-left"},{label:(0,l.__)("Image on right","global360blocks"),value:"image-right"}]}))),(0,e.createElement)("div",{..._},(0,e.createElement)("div",{className:`two-column-container layout-${w}`},!f&&y(),(0,e.createElement)("div",{className:"two-column-content"},(0,e.createElement)("div",{className:"two-column-content-inner"},(0,e.createElement)(a.RichText,{identifier:"heading",tagName:"h2",className:"two-column-heading",value:p,onChange:e=>m({heading:e}),placeholder:(0,l.__)("Enter heading...","global360blocks"),allowedFormats:["core/bold","core/italic"]}),(0,e.createElement)("div",{className:"two-column-body-field"},(0,e.createElement)("span",{className:"two-column-field-label"},(0,l.__)("Body content","global360blocks")),(0,e.createElement)("div",{className:"two-column-body"},(0,e.createElement)(a.InnerBlocks,{allowedBlocks:s,template:r,templateLock:!1}))),(0,e.createElement)("div",{className:"two-column-button-preview"},(0,e.createElement)("span",{className:"btn btn_global"},(0,l.__)("Take Risk Assessment Now","global360blocks"))))),f&&y())))},save:()=>(0,e.createElement)(a.InnerBlocks.Content,null)})}},t={};function a(e){var o=t[e];if(void 0!==o)return o.exports;var n=t[e]={exports:{}};return l[e](n,n.exports,a),n.exports}a.m=l,e=[],a.O=(l,t,o,n)=>{if(!t){var c=1/0;for(m=0;m<e.length;m++){for(var[t,o,n]=e[m],r=!0,s=0;s<t.length;s++)(!1&n||c>=n)&&Object.keys(a.O).every(e=>a.O[e](t[s]))?t.splice(s--,1):(r=!1,n<c&&(c=n));if(r){e.splice(m--,1);var i=o();void 0!==i&&(l=i)}}return l}n=n||0;for(var m=e.length;m>0&&e[m-1][2]>n;m--)e[m]=e[m-1];e[m]=[t,o,n]},a.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={57:0,350:0};a.O.j=l=>0===e[l];var l=(l,t)=>{var o,n,[c,r,s]=t,i=0;if(c.some(l=>0!==e[l])){for(o in r)a.o(r,o)&&(a.m[o]=r[o]);if(s)var m=s(a)}for(l&&l(t);i<c.length;i++)n=c[i],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(m)},t=globalThis.webpackChunk_360_global_blocks=globalThis.webpackChunk_360_global_blocks||[];t.forEach(l.bind(null,0)),t.push=l.bind(null,t.push.bind(t))})();var o=a.O(void 0,[350],()=>a(22));o=a.O(o)})();